@app.route("/employees", methods=["GET", "POST"])
def employees():
    if request.method == "POST":
        name = request.form.get("name")
        surname = request.form.get("surname")
        workplace = request.form.get("workplace")
        if name and surname:
            emp = Employee(name=name, surname=surname, workplace=workplace)
            db.session.add(emp)
            db.session.commit()
            return redirect("/employees")
    
    all_emps = Employee.query.all()
    return render_template_string("""
        <h1>Zamestnanci</h1>
        <form method="POST">
            <input name="name" placeholder="Meno">
            <input name="surname" placeholder="Priezvisko">
            <input name="workplace" placeholder="Pracovisko">
            <button type="submit">Pridaj</button>
        </form>

        <h2>VÅ¡etci zamestnanci</h2>
        <ul>
        {% for emp in all_emps %}
            <li>{{ emp.name }} {{ emp.surname }} ({{ emp.workplace }})
                - <a href="/edit_employee/{{ emp.id }}">Edit</a>
                - <a href="/report/{{ emp.id }}">Report</a>
            </li>
        {% endfor %}
        </ul>
    """, all_emps=all_emps)
